import{e as a,g as t}from"./enterpriseLeader.1c39928d.js";import{_ as e}from"./u-empty.ebfb219e.js";import{a3 as s,x as i,B as r,C as o,E as l,o as d,g as n,e as p,A as m,F as u,c,w as g,l as f,j as _,k as j,I as v}from"./index.338b6ccd.js";import{T as b}from"./index.7e55b06c.js";import{T as y}from"./index.057cb9e0.js";import{_ as x}from"./index.6c69896d.js";import{L as I}from"./listItem.6411e25c.js";import{T as k,_ as h}from"./index.f1ade82c.js";import{t as C,a as N}from"./model.9ad00a1d.js";import"./u-icon.1aa3d7c1.js";import"./plugin-vue_export-helper.21dcd24c.js";import"regenerator-runtime";/* empty css                                                             */import"./uni-datetime-picker.5cec1977.js";import"./uni-icons.a9b6e36d.js";import"./base.0d2f687c.js";const w={__name:"index",setup(w){s((()=>{$()}));const T=i(1),S=r({params:{pageNum:1,pageSize:10,userId:o("user","userId")},list:[],total:0}),z=r({params:{pageNum:1,pageSize:10,userId:o("user","userId")},list:[],total:0}),L=l((()=>1===T.value?"企业列表":"问题列表")),P=()=>{1===T.value?(S.params.pageNum++,$()):(z.params.pageNum++,A())},$=async()=>{const t=await a(S.params);S.list.push(...t.data.rows),S.total=t.data.total},A=async()=>{const a=await t(z.params);z.list.push(...a.data.rows),z.total=a.data.total},B=a=>{T.value=a.active,1===T.value?(S.params.pageNum=1,S.list=[],$()):(z.params.pageNum=1,z.list=[],A())},E=(a,t)=>{z.params.pageNum=t,A()};return(a,t)=>{const s=_(j("u-empty"),e),i=v;return d(),n("div",{class:"issue padding_all_10"},[p(m(y),{"tabs-data":m(C),onTabItemChange:B},null,8,["tabs-data"]),p(m(b),{"title-text":m(L)},null,8,["title-text"]),1===T.value?(d(),n(u,{key:0},[S.total?(d(),c(m(x),{key:0,total:"enterpriseParams.total","list-data":S.list,onHandleScrollMore:P},{default:g((({data:a})=>[p(m(I),{info:a,onClick:t=>{return e=a.id,void uni.navigateTo({url:`/pages/issue/addIssue?enterpriseId=${e}`});var e}},null,8,["info","onClick"])])),_:1},8,["list-data"])):(d(),c(s,{key:1,mode:"car",icon:"http://cdn.uviewui.com/uview/empty/data.png"}))],64)):(d(),n(u,{key:1},[p(m(k),{"tab-head":m(N),"tab-data":z.list},{operation:g((({data:a})=>[p(i,{type:"primary",size:"mini",onClick:t=>(a=>{uni.navigateTo({url:`/pages/issue/detail?data=${encodeURIComponent(JSON.stringify(a))}`})})(a)},{default:g((()=>[f("查看")])),_:2},1032,["onClick"])])),_:1},8,["tab-head","tab-data"]),p(m(h),{total:z.total,onPageChange:E},null,8,["total"])],64))])}}};export{w as default};
