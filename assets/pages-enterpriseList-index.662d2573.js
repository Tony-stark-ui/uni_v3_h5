import{e}from"./enterpriseLeader.1c39928d.js";import{d as a,m as t,a as o,a6 as l,j as s,k as c,o as r,c as n,w as i,e as u,p as d,l as h,t as p,f as m,b as f,n as y,R as g,u as _,i as b,P as C,B as k,C as S,x as w,a3 as v,g as x,A as I}from"./index.338b6ccd.js";import{_ as $}from"./u-icon.1aa3d7c1.js";import{_ as A}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as j}from"./index.6c69896d.js";import{L as B}from"./listItem.6411e25c.js";import"regenerator-runtime";/* empty css                                                             */var N=A({name:"u-search",mixins:[t,o,{props:{shape:{type:String,default:a.search.shape},bgColor:{type:String,default:a.search.bgColor},placeholder:{type:String,default:a.search.placeholder},clearabled:{type:Boolean,default:a.search.clearabled},focus:{type:Boolean,default:a.search.focus},showAction:{type:Boolean,default:a.search.showAction},actionStyle:{type:Object,default:a.search.actionStyle},actionText:{type:String,default:a.search.actionText},inputAlign:{type:String,default:a.search.inputAlign},inputStyle:{type:Object,default:a.search.inputStyle},disabled:{type:Boolean,default:a.search.disabled},borderColor:{type:String,default:a.search.borderColor},searchIconColor:{type:String,default:a.search.searchIconColor},color:{type:String,default:a.search.color},placeholderColor:{type:String,default:a.search.placeholderColor},searchIcon:{type:String,default:a.search.searchIcon},searchIconSize:{type:[Number,String],default:a.search.searchIconSize},margin:{type:String,default:a.search.margin},animation:{type:Boolean,default:a.search.animation},modelValue:{type:String,default:a.search.value},value:{type:String,default:a.search.value},maxlength:{type:[String,Number],default:a.search.maxlength},height:{type:[String,Number],default:a.search.height},label:{type:[String,Number,null],default:a.search.label}}}],data(){return{keyword:"",showClear:!1,show:!1,focused:this.focus}},watch:{keyword(e){this.$emit("update:modelValue",e),this.$emit("change",e)},modelValue:{immediate:!0,handler(e){this.keyword=e}}},computed:{showActionBtn(){return!this.animation&&this.showAction}},emits:["clear","search","custom","focus","blur","click","clickIcon","update:modelValue","change"],methods:{inputChange(e){this.keyword=e.detail.value},clear(){this.keyword="",this.$nextTick((()=>{this.$emit("clear")}))},search(e){this.$emit("search",e.detail.value);try{l()}catch(a){}},custom(){this.$emit("custom",this.keyword);try{l()}catch(e){}},getFocus(){this.focused=!0,this.animation&&this.showAction&&(this.show=!0),this.$emit("focus",this.keyword)},blur(){setTimeout((()=>{this.focused=!1}),100),this.show=!1,this.$emit("blur",this.keyword)},clickHandler(){this.disabled&&this.$emit("click")},clickIcon(){this.$emit("clickIcon")}}},[["render",function(e,a,t,o,l,k){const S=_,w=s(c("u-icon"),$),v=b,x=C;return r(),n(v,{class:"u-search",onClick:k.clickHandler,style:f([{margin:e.margin},e.$u.addStyle(e.customStyle)])},{default:i((()=>[u(v,{class:"u-search__content",style:f({backgroundColor:e.bgColor,borderRadius:"round"==e.shape?"100px":"4px",borderColor:e.borderColor})},{default:i((()=>[e.$slots.label||null!==e.label?d(e.$slots,"label",{key:0},(()=>[u(S,{class:"u-search__content__label"},{default:i((()=>[h(p(e.label),1)])),_:1})]),!0):m("v-if",!0),u(v,{class:"u-search__content__icon"},{default:i((()=>[u(w,{onClick:k.clickIcon,size:e.searchIconSize,name:e.searchIcon,color:e.searchIconColor?e.searchIconColor:e.color},null,8,["onClick","size","name","color"])])),_:1}),u(x,{"confirm-type":"search",onBlur:k.blur,value:l.keyword,onConfirm:k.search,onInput:k.inputChange,disabled:e.disabled,onFocus:k.getFocus,focus:e.focus,maxlength:e.maxlength,"placeholder-class":"u-search__content__input--placeholder",placeholder:e.placeholder,"placeholder-style":`color: ${e.placeholderColor}`,class:"u-search__content__input",type:"text",style:f([{textAlign:e.inputAlign,color:e.color,backgroundColor:e.bgColor,height:e.$u.addUnit(e.height)},e.inputStyle])},null,8,["onBlur","value","onConfirm","onInput","disabled","onFocus","focus","maxlength","placeholder","placeholder-style","style"]),l.keyword&&e.clearabled&&l.focused?(r(),n(v,{key:1,class:"u-search__content__icon u-search__content__close",onClick:k.clear},{default:i((()=>[u(w,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})])),_:1},8,["onClick"])):m("v-if",!0)])),_:3},8,["style"]),u(S,{style:f([e.actionStyle]),class:y(["u-search__action",[(k.showActionBtn||l.show)&&"u-search__action--active"]]),onClick:g(k.custom,["stop","prevent"])},{default:i((()=>[h(p(e.actionText),1)])),_:1},8,["style","class","onClick"])])),_:3},8,["onClick","style"])}],["__scopeId","data-v-78db5fc0"]]);const z={__name:"index",setup(a){const t=k({companyName:"",pageNum:1,pageSize:10,status:"",uscCode:"",userId:S("user","userId")}),o=w(0),l=w([]);v((()=>{n()}));const n=async()=>{const a=await e(t);o.value=a.data.total,l.value.push(...a.data.rows)},d=()=>{t.pageNum++,n()},h=e=>{t.companyName=e,t.pageNum=1,l.value=[],n()};return(e,a)=>{const t=s(c("u-search"),N);return r(),x("div",{class:"container padding_all_10"},[u(t,{"show-action":!0,"action-text":"搜索",animation:!0,onSearch:h,onClear:h,onCustom:h}),u(I(j),{class:"padding_all_10",total:o.value,"list-data":l.value,onHandleScrollMore:d},{default:i((({data:e})=>[u(I(B),{info:e,onClick:e=>{uni.navigateTo({url:"/pages/fillServe/scanQrCode"})}},null,8,["info","onClick"])])),_:1},8,["total","list-data"])])}}};export{z as default};
